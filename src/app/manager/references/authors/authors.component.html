<div *ngIf="!addAuthorMode && !isReference">
  <button (click)="activateAddAuthor()">Create Author</button>
</div>

<div *ngIf="addAuthorMode">
  <form (ngSubmit)="createAuthor(authorForm)" #authorForm="ngForm">
    <div>
      <span>First Name: </span>
      <input
        type="text"
        placeholder="First Name"
        name="author_first_name"
        required
        #authorFirstName="ngModel"
        [(ngModel)]="author.firstName">

      <div *ngIf="authorFirstName.dirty && authorFirstName.errors && authorFirstName.errors.required">
        Author First Name is mandatory.
      </div>
    </div>

    <div>
      <span>Middle Name: </span>
      <input
        type="text"
        placeholder="Middle Name"
        name="author_middle_name"
        #authorMiddleName="ngModel"
        [(ngModel)]="author.middleName">
    </div>

    <div>
      <span>Last Name: </span>
      <input
        type="text"
        placeholder="Last Name"
        name="author_last_name"
        required
        #authorLastName="ngModel"
        [(ngModel)]="author.lastName">

      <div *ngIf="authorLastName.dirty && authorLastName.errors && authorLastName.errors.required">
        Author Last Name is mandatory.
      </div>
    </div>

    <div>
      <button type="submit">Create</button>
    </div>
  </form>
</div>

<app-author
  *ngFor="let author of authors"
  [injectedAuthor]="author" [editable]="editable" (removeAuthor)="onRemoveAuthor($event)">
</app-author>
